"use strict";define("Tfs/Frame",["require","exports","react","VSS/Platform/Layout","VSSUI/FocusZone","VSSUI/Expandable","VSSUI/Icon","VSSUI/Menu","VSS/Features/PlatformUI/ContributedMenu","VSS/Core/Observable","VSS/Core/Util/String","VSS/Platform/FPS","VSS/Platform/Location","VSS/Platform/UserClaims","VSSUI/FocusGroup","VSSUI/Observer","VSSUI/TooltipEx","VSSUI/Util","VSSUI/Utilities/Focus","Tfs/Platform/Navigation","Tfs/Platform/ProjectPersona","VSS/Features/PlatformUI/ContributedIcon","VSS/Features/PlatformUI/FPSLink","VSS/Platform/Util/Url","VSSUI/Link","VSS/Features/Services/OrganizationsService","VSSUI/VssPersona","VSS/Platform/Identity","Tfs/Platform/HeaderActions"],function(e,t,n,s,o,i,a,r,l,c,m,d,u,p,h,g,v,f,x,b,C,N,S,E,I,w,y,k,P){var L;L=t.Resources={},Object.defineProperty(t,"__esModule",{value:!0}),t.Resources.AccessLevels="Access levels",t.Resources.AdminSettings="Admin settings",t.Resources.BrandName="Azure",t.Resources.Collections="Collections",t.Resources.Create="Create",t.Resources.Documentation="Documentation",t.Resources.GetHelp="Get help",t.Resources.ManageUserSettings="Manage the currently logged in user settings",t.Resources.MyOrgs="My organizations",t.Resources.MyWorkLabel="My Work",t.Resources.NewOrg="New organization",t.Resources.OrgSettings="Organization settings",t.Resources.ProjectSettings="Project settings",t.Resources.ProductName="DevOps",t.Resources.RelatedPages="Related pages",t.Resources.ShowLess="Show less information",t.Resources.ShowMore="Show more information",t.Resources.SignIn="Sign in",t.Resources.SuiteLogoLabel="Azure DevOps organization home page",t.Resources.SuiteLogoLabelOnPrem="Azure DevOps collection home page",t.Resources.WhatsNew="What's new in DevOps",function(e){t.ComponentsHeaderProjectHeader={},Object.defineProperty(t,"__esModule",{value:!0});s.Components.add("ms.vss-tfs-web.frame.project-header",class extends n.Component{render(){return n.createElement(o.FocusZone,{circularNavigation:!0,direction:1,focusGroupProps:{defaultElementId:"suite-logo"}},n.createElement("div",{className:"project-header flex-row flex-noshrink",role:"navigation"},n.createElement(s.RegionComponent,{className:"flex-row flex-grow",componentRegion:"header"})))}})}(),function(e){t.ComponentsHeaderTopLevelHeader={},Object.defineProperty(t,"__esModule",{value:!0});s.Components.add("ms.vss-tfs-web.frame.top-level-header",class extends n.Component{render(){return n.createElement(o.FocusZone,{circularNavigation:!0,direction:1,focusGroupProps:{defaultElementId:"suite-logo"}},n.createElement("div",{className:"top-level-header flex-row flex-noshrink",role:"navigation"},n.createElement(s.RegionComponent,{className:"flex-row flex-grow",componentRegion:"header"})))}})}(),function(e){t.ComponentsHelpHelp={},Object.defineProperty(t,"__esModule",{value:!0});class o extends s.VssComponent{constructor(){super(...arguments),this.renderCallout=((e,t,s)=>n.createElement(r.ContextualMenu,{onDismiss:e.collapse,anchorElement:s,anchorOrigin:{horizontal:"end",vertical:"end"},menuProps:{id:"help-menu",items:l.getMenuItems(this.context.pageContext,"ms.vss-tfs-web.help-menu")},menuOrigin:{horizontal:"end",vertical:"start"}}))}render(){return n.createElement(i.Expandable,{className:"commandbar-item commandbar-icon cursor-pointer flex-row flex-noshrink justify-center",renderCallout:this.renderCallout,role:"menuitem"},n.createElement(a.Icon,{iconName:"Help"}))}}t.ComponentsHelpHelp.Help=o,s.VssComponent.register("ms.vss-tfs-web.help",o)}(),function(e){t.ComponentsMarketMarket={},Object.defineProperty(t,"__esModule",{value:!0});class o extends s.VssComponent{constructor(){super(...arguments),this.renderCallout=((e,t,s)=>n.createElement(r.ContextualMenu,{onDismiss:e.collapse,anchorElement:s,anchorOrigin:{horizontal:"end",vertical:"end"},menuProps:{id:t,items:l.getMenuItems(this.context.pageContext,"ms.vss-tfs-web.market-menu")},menuOrigin:{horizontal:"end",vertical:"start"}}))}render(){return n.createElement(i.Expandable,{className:"commandbar-item commandbar-icon cursor-pointer flex-row flex-noshrink justify-center",expandableId:"market-menu",renderCallout:this.renderCallout,role:"menuitem"},n.createElement(a.Icon,{iconName:"Shop"}))}}t.ComponentsMarketMarket.Market=o,s.VssComponent.register("ms.vss-tfs-web.market",o)}(),function(e){t.ComponentsNavigationProjectNavigation={},Object.defineProperty(t,"__esModule",{value:!0});s.VssComponent.register("ms.vss-tfs-web.frame.project-navigation",class extends s.VssComponent{constructor(e,t){super(e),this.navListRef=n.createRef(),this.onActivateMenuItem=((e,t)=>d.onClickFPS(this.context.pageContext,e.href,!0,t)),this.onExpandedChange=(e=>{const t=this.checkAvailableNavigationHeight(e);return t!==this.showHubs.value&&(this.showHubs.value=t),!0}),this.onKeyDownToggle=(e=>{e.defaultPrevented||32!==e.which&&13!==e.which||(this.toggleExpansion(),e.preventDefault())}),this.onFpsLoading=(e=>{if(e.detail&&e.detail.data&&e.detail.data.navigationId){const t=this.context.pageContext.getService("IVssNavigationService"),n=t.getNavigation(e.detail.data.navigationId);n&&n.parentId&&(this.displayedHubGroupId=n.parentId,this.displayedHubId=n.id,this.buildNavigationLists(t,this.displayedHubGroupCollectionId,this.displayedHubGroupId),this.forceUpdate())}}),this.onResize=(()=>{const e=this.checkAvailableNavigationHeight(this.expanded.value);e!==this.showHubs.value&&(this.showHubs.value=e)}),this.onTransitionEnd=(e=>{this.navListRef.current===e.target&&window.dispatchEvent(new CustomEvent("resize"))}),this.renderMenuCell=((e,t,s)=>{if(1===e){const e=t.data;return n.createElement("div",{className:"bolt-menuitem-cell-content bolt-menuitem-cell-icon flex-row"},n.createElement(N.ContributedIcon,{contributionId:e.id,icon:e.icon,iconAsset:e.iconAsset,iconName:e.iconName,pageContext:this.context.pageContext}))}}),this.toggleExpansion=(()=>{this.context.pageContext.getService("ITfsNavigationService").setNavigationDisplayMode(2===this.expanded.value?1:2),this.context.pageContext.getService("IVssTelemetryService").publishEvent("WebPlatform","VerticalNavigation",{action:"vertical-nav-expanded",displayMode:this.expanded.value,hubsAreVisible:this.showHubs.value})});const s=t.pageContext.getService("ITfsNavigationService");this.expanded=s.getNavigationDisplayMode();const o=t.pageContext.getService("ITfsPageService").getData();o&&o.project&&(this.projectName=o.project.name,this.projectImageUrl=o.project.imageUrl,this.settingsUrl=u.routeUrl(t.pageContext,"ms.vss-admin-web.project-admin-hub-route",{project:this.projectName})),this.userIsMember=p.userHasClaim(t.pageContext,"member");const i=t.pageContext.getService("IVssLayoutManager").getComponentsForRegion("footer");this.fixedElementHeight=144+(i&&i.length>0?22:0)+2+8+(this.userIsMember?48:0)+(this.settingsUrl?48:0);const a=t.pageContext.getService("IVssNavigationService"),r=a.getDisplayedNavigation();this.displayedHubGroupCollectionId=r[1],this.displayedHubGroupId=r[2],this.displayedHubId=r[3],this.buildNavigationLists(a,this.displayedHubGroupCollectionId,this.displayedHubGroupId);let l=0;for(const e of this.hubGroups)l=Math.max(l,e.children.length);this.navigationHeight=48*this.hubGroups.length+40*l,this.showHubs=new c.ObservableValue(this.checkAvailableNavigationHeight(this.expanded.value))}render(){return n.createElement(g.Observer,{expanded:{filter:this.onExpandedChange,observableValue:this.expanded},showHubs:this.showHubs},e=>{let t,s,c;return 2===e.expanded?(s=L.ShowLess,c="DoubleChevronLeft",t="expanded"):(s=L.ShowMore,c="DoubleChevronRight",t="collapsed"),n.createElement(o.FocusZone,{circularNavigation:!0,direction:2,focusGroupProps:{defaultElementId:"create-action"}},n.createElement("div",{className:f.css("project-navigation region-navigation flex-column flex-noshrink fontSizeM",t),"data-renderedregion":"navigation",ref:this.navListRef,role:"navigation",onTransitionEnd:this.onTransitionEnd},n.createElement("div",{className:"collapsible-section flex-noshrink"},n.createElement("div",{className:"project-item flex-row flex-grow flex-center scroll-hidden"},n.createElement("span",{className:"navigation-icon flex-row flex-center flex-noshrink justify-center"},n.createElement(C.ProjectPersona,{displayName:this.projectName,size:"small",url:this.projectImageUrl})),n.createElement("span",{className:"fontWeightHeavy fontSizeM expanded-only flex-grow text-ellipsis"},this.projectName)),this.userIsMember&&n.createElement(i.Expandable,{"aria-label":L.Create,className:"focus-treatment alt-hover-effect fontSizeML flex-row cursor-pointer",expandableId:"ms.vss-tfs-web.vertical-header-create-menu",expandKey:39,id:"create-action",renderCallout:(e,t,s)=>n.createElement(r.ContextualMenu,{anchorElement:s,anchorOrigin:{horizontal:"end",vertical:"start"},menuProps:{id:t,items:l.getMenuItems(this.context.pageContext,"ms.vss-tfs-web.vertical-header-create-menu")},menuOrigin:{horizontal:"start",vertical:"start"},onDismiss:e.collapse})},n.createElement(a.Icon,{className:"navigation-icon flex-row flex-center justify-center",iconName:"Add"}))),n.createElement("div",{className:"separator flex-row flex-noshrink"}),n.createElement("div",{className:f.css("navigation-section flex-column flex-grow scroll-hidden v-scroll-auto custom-scrollbar",1===e.expanded&&"custom-scrollbar-hidden")},this.hubGroups.map(t=>this.renderNavigation(t,!0,t.id===this.displayedHubGroupId&&e.showHubs))),n.createElement("div",{className:"separator flex-row flex-noshrink"}),n.createElement("div",{className:"collapsible-section flex-noshrink"},this.userIsMember&&n.createElement(S.FPSLink,{className:f.css("hub stand-alone navigation-element navigation-link focus-treatment hover-effect flex-row flex-grow flex-center scroll-hidden relative","ms.vss-admin-web.project-admin-hub"===this.displayedHubId&&"displayed"),href:this.settingsUrl,id:"settings-link",telemetrySource:"vertical.settings"},n.createElement(a.Icon,{ariaLabel:L.ProjectSettings,className:"navigation-icon fontSizeML flex-row flex-center justify-center",iconName:"Settings"}),n.createElement("span",{className:"navigation-text expanded-only text-ellipsis"},L.ProjectSettings)),n.createElement(h.FocusGroupContext.Consumer,null,e=>n.createElement(o.FocusZoneContext.Consumer,null,t=>n.createElement(v.Tooltip,{text:s},n.createElement("div",{"aria-label":s,className:"focus-treatment alt-hover-effect fontSize flex-row","data-focuszone":t.focuszoneId,id:"project-expansion-toggle",onClick:this.toggleExpansion,onFocus:()=>{e.onFocus("project-expansion-toggle")},onKeyDown:this.onKeyDownToggle,tabIndex:x.getTabIndex({id:"project-expansion-toggle"},e)},n.createElement(a.Icon,{className:"navigation-icon flex-row flex-center flex-noshrink justify-center cursor-pointer",iconName:c}))))))))})}componentDidMount(){super.componentDidMount(),this.addEventListener(window,"resize",this.onResize),this.addEventListener(document.body,"fpsLoading",this.onFpsLoading)}buildNavigationLists(e,t,n){this.hubGroups=[],this.hubs=[];let s=e.getNavigation(t);if(s&&s.children)for(const e of s.children)32!=(32&(e.flags||0))&&e.children&&e.children.length&&this.hubGroups.push(e);if((s=e.getNavigation(n))&&s.children)for(const e of s.children)32!=(32&(e.flags||0))&&this.hubs.push(e);this.hubGroups=this.sortNavigationList(this.hubGroups),this.hubs=this.sortNavigationList(this.hubs)}checkAvailableNavigationHeight(e){return 1!==e||window.innerHeight>=this.navigationHeight+this.fixedElementHeight}getMenuProps(e){const t=[];t.push({id:e.id,itemType:2,text:e.name});for(let n=0;n<e.children.length;n++){const s=e.children[n];t.push({data:s,id:s.id,href:s.href,onActivate:this.onActivateMenuItem,renderMenuCell:this.renderMenuCell,text:s.name})}return{id:"menu-"+e.id,items:t}}navigationComparer(e,t){return e.order===t.order?m.localeIgnoreCaseComparer(e.id,t.id):e.order-t.order}renderNavigation(e,t,s){const o=t?f.css("hub-group",e.id===this.displayedHubGroupId&&"displayed"):f.css("hub",e.id===this.displayedHubId&&"displayed");let a=n.createElement("span",{className:"navigation-icon fontSizeM flex-row flex-center flex-noshrink justify-center"},n.createElement(N.ContributedIcon,{contributionId:e.id,icon:e.icon,iconAsset:e.iconAsset,iconName:e.iconName||"ViewAll",pageContext:this.context.pageContext}));return 1!==this.expanded.value||t&&1!==e.children.length||(a=n.createElement(v.Tooltip,{text:e.name},a)),a=n.createElement(S.FPSLink,{className:f.css(o,"navigation-element navigation-link focus-treatment flex-row flex-grow flex-center scroll-hidden relative"),href:e.href,id:e.id,key:e.id,navigationId:t?e.children[0].id:e.id,telemetrySource:"vertical.hub"},a,n.createElement("span",{className:"navigation-text expanded-only text-ellipsis"},e.name)),t&&(e.children.length>1&&(s&&e.id===this.displayedHubGroupId||(a=n.createElement(i.Expandable,{className:"flex-row flex-noshrink",collapseDelay:90,expandKey:39,excludeFocusZone:!0,excludeTabStop:!0,expandableId:e.id,expandDelay:100,expandOnHover:!0,id:e.id,renderCallout:(t,s,o)=>n.createElement(r.ContextualMenu,{anchorElement:o,anchorOrigin:{horizontal:"end",vertical:"start"},menuProps:this.getMenuProps(e),menuOrigin:{horizontal:"start",vertical:"start"},onDismiss:t.collapse}),role:"menuitem"},a)),s&&(a=n.createElement(n.Fragment,null,a,this.hubs.map(e=>this.renderNavigation(e,!1,!1))))),a=n.createElement("div",{key:e.id,className:f.css("flex-column flex-noshrink relative",e.id===this.displayedHubGroupId&&"hub-group-container",(!s||e.children.length<=1)&&"hub-group-only")},a)),a}sortNavigationList(e){const t=[],n=[];for(const s of e)b.isNavigationItemBuiltinOrTrusted(s)?n.push(s):(0===s.order&&(s.order=100),t.push(s));return n.sort(this.navigationComparer),t.sort(this.navigationComparer),[...n,...t]}})}(),function(e){t.ComponentsNavigationTopLevelNavigation={},Object.defineProperty(t,"__esModule",{value:!0});s.Components.add("ms.vss-tfs-web.frame.top-level-navigation",class extends s.VssComponent{constructor(e,t){super(e,t),this.renderListItem=(e=>{const t="host-"+e.id;return n.createElement(I.Link,{className:f.css("host-link navigation-link focus-treatment flex-row flex-center flex-noshrink relative",e.id===this.state.displayedHostId&&"displayed"),id:t,key:t,href:e.url,role:"listitem"},n.createElement(C.ProjectPersona,{displayName:e.name,size:"small"}),n.createElement("span",{className:"text-ellipsis"},e.name))}),this.updateCollectionList=(e=>{const t=u.getServiceLocation(this.context.pageContext,void 0,1),n=e.map((e,n)=>({id:e.id,name:e.name,url:E.combineUrlPaths(t,encodeURIComponent(e.name))}));this.state.collections.push(...n)}),this.updateEnterpriseData=(e=>{this.state.enterpriseData.value=e}),this.updateNewOrgUrl=(e=>{if(e){const t=new E.Uri(e);t.addQueryParam("campaign","o~msft~vsts~orghome",!0),this.state.newOrgLink.value=t.absoluteUri}}),this.updateOrganizationList=(e=>{this.state.organizations.push(...e)});const s=t.pageContext.getService("IVssContributionService"),o=t.pageContext.getService("IVssPageService").getData();let i;if(!o.isHosted){const e=u.getServiceLocation(t.pageContext,void 0,1);i=u.routeUrl(t.pageContext,"ms.vss-admin-web.admin-access-levels-route",{},e)}if(this.state={accessLevelsLink:i,collections:new c.ObservableArray([]),displayedHostId:o.hostId,enterpriseData:new c.ObservableValue(void 0),isHosted:o.isHosted,newOrgLink:new c.ObservableValue(void 0),organizations:new c.ObservableArray([]),settingsLink:u.routeUrl(t.pageContext,"ms.vss-admin-web.collection-admin-hub-route")},this.state.isHosted)this.trackPromise(w.getUserOrganizations(t.pageContext)).promise.then(this.updateOrganizationList),this.trackPromise(w.getNewOrganizationUrl(t.pageContext)).promise.then(this.updateNewOrgUrl),this.trackPromise(s.getDataAsync("ms.vss-tfs-web.enterprise-navigation-data-provider")).promise.then(this.updateEnterpriseData);else{const e=t.pageContext.getRestClient("ICoreRestClient",{hostType:1});this.trackPromise(e.getProjectCollections(1e3)).promise.then(this.updateCollectionList)}}render(){return n.createElement("div",{className:"top-level-navigation region-navigation flex-column scroll-hidden expanded",role:"navigation"},n.createElement(g.Observer,{enterpriseData:this.state.enterpriseData},e=>e.enterpriseData?n.createElement("div",{className:"flex-column flex-noshrink"},n.createElement(I.Link,{className:"enterprise-link navigation-link focus-treatment relative",href:e.enterpriseData.url},e.enterpriseData.name),n.createElement("div",{className:"enterprise-separator"})):null),n.createElement("div",{className:"top-level-section scroll-hidden flex-column flex-grow"},n.createElement("span",{className:"section-header"},this.state.isHosted?L.MyOrgs:L.Collections),n.createElement(g.Observer,{hosts:this.state.isHosted?this.state.organizations:this.state.collections},e=>e.hosts.length?n.createElement(o.FocusZone,{direction:2,focusGroupProps:{defaultElementId:"host-"+e.hosts[0].id}},n.createElement("div",{className:"flex-column flex-grow v-scroll-auto h-scroll-hidden custom-scrollbar",role:"listbox"},e.hosts.map(this.renderListItem))):null)),n.createElement("div",{className:"related-pages-section flex-column flex-noshrink"},n.createElement("span",{className:"section-header"},L.RelatedPages),this.state.isHosted&&n.createElement("span",{className:"related-link"},n.createElement(I.Link,{className:"link-text",href:"https://docs.microsoft.com/en-us/azure/devops/release-notes/"},L.WhatsNew)),n.createElement("span",{className:"related-link"},n.createElement(I.Link,{className:"link-text",href:"https://docs.microsoft.com/en-us/azure/devops/?view=azdevops"},L.Documentation)),n.createElement("span",{className:"related-link"},n.createElement(I.Link,{className:"link-text",href:"https://azure.microsoft.com/en-us/support/devops/"},L.GetHelp)),!this.state.isHosted&&n.createElement("span",{className:"related-link"},n.createElement(I.Link,{className:"link-text",href:this.state.accessLevelsLink},L.AccessLevels))),n.createElement("div",{className:"action-section flex-column flex-noshrink"},n.createElement(g.Observer,{newOrgUrl:this.state.newOrgLink},e=>this.state.isHosted&&e.newOrgUrl?n.createElement(I.Link,{className:"action-link navigation-link focus-treatment flex-row flex-center relative",href:e.newOrgUrl,id:"new-org-link"},n.createElement(a.Icon,{className:"fontSizeML icon-margin",iconName:"Add"}),L.NewOrg):null),n.createElement(S.FPSLink,{className:"action-link navigation-link focus-treatment flex-row flex-center relative",href:this.state.settingsLink,id:"settings-link"},n.createElement(a.Icon,{className:"fontSizeML icon-margin",iconName:"Settings"}),n.createElement("span",{className:"text-ellipsis"},this.state.isHosted?L.OrgSettings:L.AdminSettings))))}})}(),function(e){t.ComponentsMyWorkMyWork={},Object.defineProperty(t,"__esModule",{value:!0});class o extends n.Component{constructor(){super(...arguments),this.renderDropdown=((e,t)=>n.createElement(s.WrappedComponent,{wrappedType:"customPanel",dependencies:["ms.vss-features.ui-layer-content","ms.vss-features.ui-hub-content"],contentClassName:"flyout-my-work",id:t,modal:!1,onDismiss:e.collapse},n.createElement(s.WrappedComponent,{dependencies:["ms.vss-features.ui-hub-content"],wrappedType:"vertical-header-my-work-flyout"})))}render(){return n.createElement(i.Expandable,{"aria-label":L.MyWorkLabel,className:"commandbar-item commandbar-icon cursor-pointer flex-row flex-noshrink justify-center",expandableId:"my-work-panel",renderCallout:this.renderDropdown,role:"menuitem"},n.createElement(a.Icon,{iconName:"CheckList"}))}}t.ComponentsMyWorkMyWork.MyWork=o,s.VssComponent.register("ms.vss-tfs-web.my-work",o)}(),function(e){t.ComponentsProfileProfile={},Object.defineProperty(t,"__esModule",{value:!0});class o extends s.VssComponent{constructor(e,t){super(e,t),this.renderDropdown=((e,t,s)=>n.createElement(r.ContextualMenu,{onDismiss:e.collapse,anchorElement:s,anchorOrigin:{horizontal:"end",vertical:"end"},menuProps:{id:t,items:l.getMenuItems(this.context.pageContext,"ms.vss-tfs-web.profile-menu")},menuOrigin:{horizontal:"end",vertical:"start"}}));const s=t.pageContext.getService("IVssPageService").getData();s&&s.user&&(this.displayName=s.user.displayName,this.imageUrl=k.getIdentityImageUrl(t.pageContext,s.user,1))}render(){return n.createElement(i.Expandable,{className:"navigation-profile-menu commandbar-item commandbar-icon cursor-pointer flex-row flex-noshrink justify-center",expandableId:"profile-menu",role:"menuitem",renderCallout:this.renderDropdown},n.createElement(y.VssPersona,{imgAltText:L.ManageUserSettings,size:"small",suppressPersonaCard:!0,identityDetailsProvider:{getIdentityImageUrl:e=>this.imageUrl,getDisplayName:()=>this.displayName||""}}))}}t.ComponentsProfileProfile.Profile=o,s.VssComponent.register("ms.vss-tfs-web.profile",o)}(),function(e){t.ComponentsProfileMeControl={},Object.defineProperty(t,"__esModule",{value:!0});const o="ms.vss-tfs-web.vertical-header-me-control-data-provider";class i extends s.VssComponent{constructor(e,t){super(e,t),this._onLoadMeControlScript=(e=>{const t=this.context.pageContext.getService("IVssContentService");if(e){const n={url:e,contentLength:0,clientId:"me-control-script",contributionId:"vertical-header-profile",contentType:"text/javascript"};t.loadScript(n).then(e=>{console.log("successfully loaded me control script")},e=>{console.log("failed to load me control script")})}});const n=t.pageContext.getService("IVssPageService").getData(),s=this.context.pageContext.getService("IVssContributionService").getData(o);let i="",a="";n&&n.user&&(i=n.user.displayName,a=k.getIdentityImageUrl(t.pageContext,n.user,1)),this._onLoadMeControlScript(s.meControlScriptUrl),this.state={displayName:i,imageUrl:a}}render(){return n.createElement("div",{id:"me-control-div"})}}t.ComponentsProfileMeControl.MeControl=i,s.VssComponent.register("ms.vss-tfs-web.me-control",i)}(),function(e){t.ComponentsSignInSignIn={},Object.defineProperty(t,"__esModule",{value:!0});class o extends s.VssComponent{constructor(e,t){super(e,t);const n=P.getHeaderActionData(t.pageContext)||{};this.state={signInUrl:n.signInUrl}}render(){return n.createElement(I.Link,{className:"sign-in-link commandbar-item",href:this.state.signInUrl},L.SignIn)}}t.ComponentsSignInSignIn.SignInLink=o,s.VssComponent.register("ms.vss-tfs-web.sign-in-link",o)}(),function(e){t.ComponentsSuiteLogoSuiteLogo={},Object.defineProperty(t,"__esModule",{value:!0});class o extends s.VssComponent{constructor(e,t){super(e,t),e.routeId&&p.userHasClaim(this.context.pageContext,"member")&&(this.href=u.routeUrl(this.context.pageContext,e.routeId));const n=t.pageContext.getService("IVssPageService").getData();if(this.isHosted=n.isHosted,this.props.alwaysExpanded)this.expanded=2;else{const e=t.pageContext.getService("ITfsNavigationService");this.expanded=e.getNavigationDisplayMode()}}render(){return n.createElement(g.Observer,{key:"suite-logo",expanded:this.expanded},e=>n.createElement(S.FPSLink,{"aria-label":this.isHosted?L.SuiteLogoLabel:L.SuiteLogoLabelOnPrem,className:"commandbar-item suite-logo flex-row flex-noshrink flex-center",href:this.href,id:"suite-logo",role:"menuitem",telemetrySource:"applicationLink"},n.createElement(a.Icon,{className:"suite-image commandbar-icon justify-center",iconName:"VSTSLogo"}),2===e.expanded&&n.createElement("span",{className:"fontSizeM fontWeightHeavy brand"},L.BrandName," ",L.ProductName)))}}t.ComponentsSuiteLogoSuiteLogo.SuiteLogo=o,s.VssComponent.register("ms.vss-tfs-web.suite-logo",o)}(),function(e){t.ComponentsUserMenuItemUserMenuItem={},Object.defineProperty(t,"__esModule",{value:!0});s.Components.add("userMenuItem",class extends s.VssComponent{constructor(e,t){super(e,t);const n=t.pageContext.getService("IVssPageService").getData();n&&n.user&&(this.userDisplayName=n.user.displayName,this.userUniqueName=n.user.uniqueName,this.userImageUrl=k.getIdentityImageUrl(t.pageContext,n.user))}render(){return n.createElement("tr",{"aria-posinset":this.props.details.position,"aria-setsize":this.props.details.setSize,className:"bolt-menuitem-row bolt-list-row user-menuitem-row",role:"presentation"},n.createElement("td",{className:"bolt-menuitem-cell bolt-list-cell"}),n.createElement("td",{className:"bolt-menuitem-cell bolt-list-cell",colSpan:5},n.createElement("div",{className:"flex-row flex-center"},n.createElement("img",{className:"user-menu-item-image",src:this.userImageUrl,alt:""}),n.createElement("div",{className:"user-menu-item-details"},n.createElement("div",null,this.userDisplayName),n.createElement("div",{className:"user-menu-item-unique-name"},this.userUniqueName)))),n.createElement("td",{className:"bolt-menuitem-cell bolt-list-cell"}))}})}()},["Resources","Components/Header/ProjectHeader","Components/Header/TopLevelHeader","Components/Help/Help","Components/Market/Market","Components/Navigation/ProjectNavigation","Components/Navigation/TopLevelNavigation","Components/MyWork/MyWork","Components/Profile/Profile","Components/Profile/MeControl","Components/SignIn/SignIn","Components/SuiteLogo/SuiteLogo","Components/UserMenuItem/UserMenuItem"]),document.dispatchEvent(new CustomEvent("scriptLoaded",{cancelable:!1,detail:{id:"ms.vss-tfs-web.frame-content"}}));
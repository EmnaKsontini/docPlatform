"use strict";define("VSSUI",["require","exports","react","VSS/Core/EventManagement"],function(e,t,i,s){var n,r;!function(e){n=t.ComponentsSplitterSplitter={},Object.defineProperty(t,"__esModule",{value:!0});const r=20,o=4;class d extends i.Component{constructor(e,t){super(e,t),this._onDividerKeyDown=(e=>{const{disabled:t,splitterDirection:i}=this.props;if(!t&&!this._isDragging){switch(e.keyCode){case 37:0===i&&this._moveDivider(0);break;case 39:0===i&&this._moveDivider(1);break;case 38:1===i&&this._moveDivider(0);break;case 40:1===i&&this._moveDivider(1);break;default:return}e.preventDefault(),e.stopPropagation()}}),this._onDividerMouseDown=(e=>{const{disabled:t}=this.props,{fixedSize:i}=this.state;if(this._fixedRef&&!t){e.preventDefault(),e.stopPropagation(),this._dragAnchorPos=this._getEventBoundedClientPos(e),this._previousFixedSize=this._getElementSize(this._fixedRef);const t=this._getNewFixedSize(this._previousFixedSize,this._dragAnchorPos);i!==t&&this.setState({placeholderPosition:void 0,fixedSize:t}),this._attachWindowEvents(),this._handleDragMouseEvent(e)}}),this._onDividerMouseMove=(e=>{this._handleDragMouseEvent(e)}),this._onDividerMouseUp=(e=>{this._detachWindowEvents();const t=this._getEventBoundedClientPos(e),i=this._getNewFixedSize(this._previousFixedSize,this._dragAnchorPos,t);this.setState({placeholderPosition:void 0}),this._setFixedSize(i),this._fireWindowResize()}),this.events=new s.EventManagement,this.state={fixedSize:e.fixedSize||e.initialFixedSize,placeholderPosition:void 0,showDivider:this._shouldShowDivider(e)}}componentWillReceiveProps(e){const t=this._shouldShowDivider(e);t!==this.state.showDivider&&this.setState({showDivider:t}),this.props.fixedSize!==e.fixedSize?null!=e.fixedSize?this.setState({fixedSize:this._getNewFixedSize(e.fixedSize,0,0,e)}):null!=this.props.fixedSize&&this.setState({fixedSize:this._getNewFixedSize(this.props.fixedSize,0,0,e)}):this.props.splitterDirection===e.splitterDirection&&this.props.minFixedSize===e.minFixedSize&&this.props.maxFixedSize===e.maxFixedSize||this.setState({fixedSize:this._getNewFixedSize(this.state.fixedSize,0,0,e)})}componentDidMount(){this._fireWindowResize()}componentWillUnmount(){this.events.removeAllListeners()}render(){const{className:e,splitterDirection:s}=this.props;return i.createElement("div",{className:t.Util.css(e,"vss-Splitter--container",0===s&&"vss-Splitter--container-row",1===s&&"vss-Splitter--container-column",this._isDragging&&"vss-Splitter--container-dragging"),ref:e=>this._splitterContainer=e},this._renderNearElement(),this._renderDivider(),this._renderDragPlaceHolder(),this._renderFarElement())}_renderNearElement(){const{fixedElement:e,onRenderNearElement:t,nearElementClassName:i}=this.props;if(this._isDragging&&this._cachedNearElement)return this._cachedNearElement;if(this._cachedNearElement=null,t){const s=t();return this._cachedNearElement=0===e?this._renderFixedPane(s,i):this._renderFlexiblePane(s,i),this._cachedNearElement}}_renderFarElement(){const{fixedElement:e,onRenderFarElement:t,farElementClassName:i}=this.props;if(this._isDragging&&this._cachedFarElement)return this._cachedFarElement;if(this._cachedFarElement=null,t){const s=t();return this._cachedFarElement=1===e?this._renderFixedPane(s,i):this._renderFlexiblePane(s,i),this._cachedFarElement}}_renderFixedPane(e,s){const{minFixedSize:n,maxFixedSize:r,splitterDirection:o}=this.props,{fixedSize:d}=this.state;let a;a=d||(null!=n?n:null!=r?r:"50%");const l=0===o?{width:a}:{height:a};if(e)return i.createElement("div",{className:t.Util.css("vss-Splitter--pane-fixed",s),style:l,ref:e=>this._fixedRef=e},e)}_renderFlexiblePane(e,s){return i.createElement("div",{className:t.Util.css("vss-Splitter--pane-flexible",s)},e)}_renderDivider(){const{fixedElement:e,minFixedSize:s,maxFixedSize:n}=this.props,{fixedSize:r,showDivider:o}=this.state;if(!o)return null;const{startBound:d,endBound:a}=this._getSplitterBoundaries();return i.createElement("div",{"aria-valuemin":d,"aria-valuemax":a,"aria-valuenow":r,role:"separator",tabIndex:0,className:t.Util.css("vss-Splitter--divider",this._isDragging&&"vss-Splitter--divider-dragging"),onKeyDown:this._onDividerKeyDown,onMouseDown:this._onDividerMouseDown})}_renderDragPlaceHolder(){const{splitterDirection:e}=this.props,{placeholderPosition:t}=this.state,s=0===e?{left:t}:{top:t};if(this._isDragging)return i.createElement("div",{className:"vss-Splitter--drag-placeholder",style:s})}_handleDragMouseEvent(e){const{fixedElement:t}=this.props,{placeholderPosition:i}=this.state;e.preventDefault(),e.stopPropagation();const s=this._getEventBoundedClientPos(e),n=this._getNewFixedSize(this._previousFixedSize,this._dragAnchorPos,s);n!==i&&this.setState({placeholderPosition:0===t?n:this._getElementSize(this._splitterContainer)-n-o})}_setFixedSize(e){const{fixedSize:t,onFixedSizeChanged:i}=this.props;null==t&&this.setState({fixedSize:e}),i&&i(e)}_moveDivider(e){const t=this._getElementSize(this._fixedRef);let i;switch(e){case 0:i=this._getNewFixedSize(t,r,0);break;case 1:i=this._getNewFixedSize(t,0,r);break;default:return}this._setFixedSize(i),this._fireWindowResize()}_attachWindowEvents(){this.events.addEventListener(window,"mousemove",this._onDividerMouseMove),this.events.addEventListener(window,"mouseup",this._onDividerMouseUp)}_detachWindowEvents(){this.events.removeEventListener(window,"mousemove",this._onDividerMouseMove),this.events.removeEventListener(window,"mouseup",this._onDividerMouseUp)}_getEventBoundedClientPos(e){const{splitterDirection:t}=this.props;let i;switch(t){case 0:i=e.clientX;break;case 1:i=e.clientY;break;default:i=0}return this._getBoundedClientPos(i)}_getBoundedClientPos(e,t=this.props){const{fixedElement:i,minFixedSize:s,maxFixedSize:n}=t,{startBound:r,endBound:o}=this._getSplitterBoundaries();return Math.max(r,Math.min(e,o))-this._getElementStartPos(this._splitterContainer,t)}_getSplitterBoundaries(e=this.props){const{fixedElement:t,minFixedSize:i,maxFixedSize:s}=e;if(!this._splitterContainer)return{startBound:0,endBound:0};const n=this._getElementStartPos(this._splitterContainer,e),r=n+this._getElementSize(this._splitterContainer,e);return{startBound:0===t?i?n+i:n:s?r-s:n,endBound:0===t?s?n+s:r:i?r-i:r}}_getNewFixedSize(e,t,i=t,s=this.props){const{fixedElement:n,minFixedSize:r=0,maxFixedSize:o=this._getElementSize(this._splitterContainer)}=s;let d=i-t;1===n&&(d*=-1);const a=e+d;return Math.max(r,Math.min(o,a))}get _isDragging(){const{placeholderPosition:e}=this.state;return null!=e}_getElementSize(e,t=this.props){const{splitterDirection:i}=t;switch(i){case 0:return e.clientWidth;case 1:return e.clientHeight;default:return 0}}_getElementStartPos(e,t=this.props){const{splitterDirection:i}=t,s=e.getBoundingClientRect();switch(i){case 0:return s.left;case 1:return s.top;default:return 0}}_shouldShowDivider(e){const{onRenderFarElement:t,onRenderNearElement:i,fixedElement:s}=e;switch(s){case 0:return!!i;case 1:return!!t}}_fireWindowResize(){const e=document.createEvent("Event");e.initEvent("resize",!1,!0),window.dispatchEvent(e)}}d.defaultProps={fixedElement:1,splitterDirection:0},t.ComponentsSplitterSplitter.Splitter=d}(),function(e){r=t[e]={},Object.defineProperty(t,"__esModule",{value:!0}),function(i){for(var s in i)t[e].hasOwnProperty(s)||(t[e][s]=i[s])}(n)}("ComponentsSplitterindex"),function(e){t[e]={},Object.defineProperty(t,"__esModule",{value:!0}),function(i){for(var s in i)t[e].hasOwnProperty(s)||(t[e][s]=i[s])}(r)}("Splitter")},["Components/Splitter/Splitter","Components/Splitter/index","Splitter"]),document.dispatchEvent(new CustomEvent("scriptLoaded",{cancelable:!1,detail:{id:"ms.vss-features.ui-splitter-content"}}));